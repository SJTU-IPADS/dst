#! /usr/bin/env python

import figure

figure.xxx = [1, 2, 3, 4, 5, 10, 20, 30, 40, 50, 60, 70, 80, 90, 100]

if __name__ == "__main__":

    cpu = [
            [0.967317294598, 0.975786320519, 0.984717809048, 0.990467544258, 0.992464820699, 0.99692105265, 0.998552146805, 0.999001672142, 0.998190856181, 0.994486956552, 0.990911036643, 0.983737122539, 0.980064102298, 0.969477161544, 0.963399072412], # occ
            [0.962324103495, 0.983520348847, 0.988196194082, 0.991830198961, 0.990921470722, 0.973496991074, 0.978285835193, 0.971288364047, 0.977472171954, 0.970390660869, 0.969428258891, 0.75509269827, 0.963976581883, 0.489475326492, 0.560935094594], # rococo
            #[__2pl.cpu__], # 2pl timeout
            #[__2pl_wait_die.cpu__], # 2pl wait die
            [0.974270353303, 0.980529206191, 0.987138750189, 0.99126191557, 0.99320958622, 0.997170325086, 0.998427146992, 0.998351248737, 0.998263726257, 0.997619937996, 0.99599414897, 0.993602847495, 0.988084273965, 0.980809877127, 0.968161834062] # 2pl wound wait
            ]

    flush_cnt = [
            [-1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0], # occ
            [-1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0], # rococo
            #[__2pl.flush_cnt__], # 2pl timeout
            #[__2pl_wait_die.flush_cnt__], # 2pl wait die
            [-1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0] # 2pl wound wait
            ]

    flush_sz = [
            [-1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0], # occ
            [-1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0], # rococo
            #[__2pl.flush_sz__], # 2pl timeout
            #[__2pl_wait_die.flush_sz__], # 2pl wait die
            [-1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0] # 2pl wound wait
            ]

    throughput_val = [
            [943, 1805, 2604, 3325, 3994, 6715, 9611, 9384, 7262, 4707, 3170, 2174, 1565, 1083, 897], # occ
            [939, 1826, 2683, 3498, 4269, 7519, 13971, 19797, 25671, 30763, 36301, 41978, 47787, 52002, 55813], # rococo
            #[__2pl.tps__], # 2pl timeout
            #[__2pl_wait_die.tps__], # 2pl wait die
            [697, 1340, 1982, 2599, 3139, 5712, 10039, 13384, 15697, 17109, 17521, 17298, 16722, 16268, 15747] # 2pl wound wait
            ]

    commit_rate_val = [
            [19329.0/19396, 37803.0/38107, 55557.0/56242, 72439.0/73759, 88386.0/90317, 160653.0/169152, 189193.0/219817, 188129.0/265690, 140500.0/283969, 114929.0/394038, 75737.0/427730, 51001.0/475298, 36807.0/520363, 25453.0/584346, 21294.0/624646],
            [19253.0/19253, 38329.0/38329, 57453.0/57453, 76375.0/76375, 95221.0/95221, 185063.0/185063, 419098.0/419098, 548561.0/548561, 870675.0/870675, 789443.0/789443, 1116954.0/1116954, 1497415.0/1497415, 811377.0/811377, 2336129.0/2336129, 1223595.0/1223595],
            #[__2pl.commit_rate__],
            #[__2pl_wait_die.commit_rate__],
            [17767.0/17797, 27754.0/27879, 41766.0/42064, 55654.0/56123, 68107.0/68931, 132953.0/136120, 201850.0/213426, 299594.0/330841, 376472.0/443716, 438202.0/566619, 459516.0/674547, 469335.0/799926, 443110.0/887996, 439837.0/1028170, 431607.0/1158500]
            ]

    latency_50_val = [
            [2.75907286587, 3.12373266719, 3.36994449259, 3.59199765284, 3.79433004405, 4.56993286719, 6.01387786252, 8.0364329868, 11.1502541878, 15.9534306644, 21.6881453789, 26.3905181143, 30.6774843706, 33.0376183178, 34.0199093733],
            [2.64332513038, 2.89460665536, 3.07005255984, 3.17399772624, 3.29723116533, 3.72223868776, 4.08927871467, 4.28322891518, 4.45457947665, 4.55112785125, 4.62941871288, 4.72818291404, 4.72285819523, 4.74172168974, 4.61361608983],
            #[__2pl.latency_50__],
            #[__2pl_wait_die.latency_50__],
            [3.74136765143, 4.18744111561, 4.47722930097, 4.68260153555, 4.901535791, 5.5379984632, 6.33200121048, 6.9344124866, 7.59590683708, 8.2784278676, 8.96168860237, 9.6162797268, 10.114815072, 10.5569185828, 11.1722089838]
            ]

    latency_90_val = [
            [3.31902729525, 3.60607239204, 3.81285755144, 4.01718563136, 4.21513587658, 5.02655727465, 6.85262834353, 10.3478149668, 17.6447606592, 33.317803563, 56.8429544683, 87.5509178624, 128.047668844, 173.693797372, 204.05375257],
            [3.25093402423, 3.39246945921, 3.50180700041, 3.57150731755, 3.67740960626, 4.09305416638, 4.47832324552, 4.71647005509, 4.91213767462, 5.05134979893, 5.16798436322, 5.294856349, 5.34876146058, 5.43132116864, 5.40637237814],
            #[__2pl.latency_90__],
            #[__2pl_wait_die.latency_90__],
            [4.57488212848, 4.88891203751, 5.09953913805, 5.26007532894, 5.46415710848, 6.087078277, 6.96297652476, 7.76892412818, 8.93579382794, 10.5010300761, 12.7749204133, 16.0394911583, 20.5598734352, 25.6295007151, 31.5479077842]
            ]

    latency_99_val = [
            [3.54285799041, 3.78140414704, 3.9715656759, 4.17610755497, 4.38113718115, 5.31324958199, 7.59460126415, 12.0788211377, 22.5994363852, 48.1795285197, 90.1284565049, 154.238147154, 245.431928297, 377.954862896, 487.537244144],
            [3.46541764699, 3.55184934995, 3.6349156128, 3.69535328751, 3.79477166589, 4.2111694797, 4.60383588161, 4.86314617481, 5.0662527229, 5.24282114736, 5.38710537716, 5.5353380378, 5.66193328445, 5.79546155994, 5.86538511185],
            #[__2pl.latency_99__],
            #[__2pl_wait_die.latency_99__],
            [4.89568836746, 5.13115162224, 5.30995858868, 5.4504595925, 5.65460056168, 6.32320482901, 7.41164116564, 8.53516284168, 10.1429061804, 12.4807552723, 16.0650725312, 20.9534296523, 27.4495676471, 34.468984562, 42.3858407568]
            ]

    latency_999_val = [
            [3.58150542908, 3.81737350329, 4.01096492332, 4.22126827246, 4.42943734828, 5.38320474934, 7.75414351475, 12.5200181374, 23.9701121164, 52.6237786292, 100.263948254, 176.789577165, 287.13835503, 456.627542051, 597.01860024],
            [3.50051954618, 3.57702360634, 3.6564214578, 3.71537073639, 3.83394571031, 4.49538478122, 4.87608371595, 5.31775501856, 5.42681836039, 5.78362453429, 5.86634114122, 5.90573062141, 5.92271774109, 6.10862414376, 6.41058979404],
            #[__2pl.latency_999__],
            #[__2pl_wait_die.latency_999__],
            [4.9476765884, 5.17823443798, 5.35435678787, 5.49713265403, 5.70981203389, 6.3948482468, 7.5259716576, 8.7261912324, 10.4484977953, 12.9533990546, 16.7810692915, 21.9529608882, 28.7919073296, 36.1409555611, 44.3895859272]
            ]

    n_try_50_val = [
            #[__occ.n_try_50__],
            #[__deptran.n_try_50__],
            #[__2pl.n_try_50__],
            #[__2pl_wait_die.n_try_50__],
            #[__2pl_wound_die.n_try_50__]
            ]

    n_try_90_val = [
            #[__occ.n_try_90__],
            #[__deptran.n_try_90__],
            #[__2pl.n_try_90__],
            #[__2pl_wait_die.n_try_90__],
            #[__2pl_wound_die.n_try_90__]
            ]

    n_try_99_val = [
            #[__occ.n_try_99__],
            #[__deptran.n_try_99__],
            #[__2pl.n_try_99__],
            #[__2pl_wait_die.n_try_99__],
            #[__2pl_wound_die.n_try_99__]
            ]

    n_try_999_val = [
            #[__occ.n_try_999__],
            #[__deptran.n_try_999__],
            #[__2pl.n_try_999__],
            #[__2pl_wait_die.n_try_999__],
            #[__2pl_wound_die.n_try_999__]
            ]

    att_latency_50_val = [
            [2.76005120257, 3.1226259557, 3.36731955003, 3.58692022576, 3.78677745123, 4.54996730936, 5.93853678243, 7.77240711795, 10.1884924541, 12.8843303952, 14.8265987355, 15.2475052493, 15.5443175453, 14.0215423684, 13.6898123933],
            [2.64500360352, 2.89625237516, 3.07168586963, 3.17563652506, 3.29887630188, 3.7238870664, 4.09093209926, 4.28491184323, 4.45629116636, 4.55287388216, 4.63122118576, 4.73006218743, 4.7248033248, 4.74377134596, 4.6157616104],
            #[__2pl.att_latency_50__],
            #[__2pl_wait_die.att_latency_50__],
            [3.74293141827, 4.18803968757, 4.47417336482, 4.67912748433, 4.89668378898, 5.52921603167, 6.31141973728, 6.89731992865, 7.53997009485, 8.19659129175, 8.85910729535, 9.45985603827, 9.81621674433, 9.94037205942, 9.81911677825]
            ]

    att_latency_90_val = [
            [3.31683633526, 3.5997197494, 3.80248764427, 4.00223095389, 4.19596861761, 4.97645372435, 6.50558665474, 8.62922869152, 11.5633237649, 15.0451247043, 17.5750894648, 18.8065465793, 19.9658455306, 19.7928507618, 20.8261351693],
            [3.25260772679, 3.39411879559, 3.50344389515, 3.57314927931, 3.67905897563, 4.09470826617, 4.47998075484, 4.71816218861, 4.91386891155, 5.05312365033, 5.16984785186, 5.29681806158, 5.35087006664, 5.43358792365, 5.40884387445],
            #[__2pl.att_latency_90__],
            #[__2pl_wait_die.att_latency_90__],
            [4.57344509691, 4.88579055636, 5.09107758333, 5.25146896673, 5.45147266969, 6.06249713029, 6.89655250274, 7.59660098766, 8.43689647421, 9.42192151558, 10.6249065791, 11.869821072, 13.0872572648, 13.9932767547, 14.7992184908]
            ]

    att_latency_99_val = [
            [3.53656825298, 3.76539989231, 3.94509523813, 4.13248409824, 4.3229711134, 5.1052291697, 6.67466594049, 8.89183603061, 11.9468100974, 15.5953380403, 18.1987912975, 19.702876472, 20.8922935008, 21.1019399582, 22.0461729185],
            [3.46709286669, 3.55350050495, 3.63655464894, 3.69699623112, 3.79642339371, 4.21282550156, 4.60549545791, 4.86484351174, 5.0679920855, 5.24461344777, 5.3890145551, 5.53739107478, 5.66422073977, 5.79794140116, 5.86811209692],
            #[__2pl.att_latency_99__],
            #[__2pl_wait_die.att_latency_99__],
            [4.89148037209, 5.12096921174, 5.29116982, 5.43012445815, 5.62322446824, 6.22936367842, 7.09511635487, 7.87411877796, 8.83265430496, 9.97597584777, 11.3774688159, 12.812946061, 14.2747244995, 15.3539817383, 16.3868078888]
            ]

    att_latency_999_val = [
            [3.57219569413, 3.7913974202, 3.967443638, 4.15204106996, 4.34202718047, 5.12461061635, 6.70021779242, 8.93126969174, 12.002330038, 15.672438822, 18.2898570526, 19.8215836198, 21.0249276298, 21.2674234028, 22.2210159509],
            [3.50219553926, 3.5786749572, 3.65806061357, 3.71701399626, 3.83559784361, 4.49704154945, 4.87774417169, 5.31945344988, 5.42855957017, 5.78541819751, 5.86825511072, 5.90779191128, 5.92501708877, 6.11112248975, 6.41332366728],
            #[__2pl.att_latency_999__],
            #[__2pl_wait_die.att_latency_999__],
            [4.94170611494, 5.15931252679, 5.32206944565, 5.45780162153, 5.64953559746, 6.25674154201, 7.13474742655, 7.92957764595, 8.90577294068, 10.0720209319, 11.5010542556, 12.96177272, 14.4579815729, 15.5562749316, 16.6232208888]
            ]

    latency_min_val = [
            [1.2978515625, 1.71435546875, 1.8486328125, 1.86474609375, 1.86889648438, 2.298828125, 2.85571289062, 3.42309570312, 3.1484375, 2.6796875, 2.04711914062, 1.98706054688, 2.28759765625, 2.13159179688, 2.14794921875],
            [1.26513671875, 1.421875, 1.29663085938, 1.02392578125, 1.14599609375, 0.98388671875, 0.88037109375, 0.9443359375, 0.98193359375, 0.88134765625, 0.87353515625, 0.8857421875, 0.928955078125, 0.974365234375, 0.879638671875],
            #[__2pl.min_latency__],
            #[__2pl_wait_die.min_latency__],
            [1.87475585938, 2.1474609375, 1.85473632812, 2.578125, 2.44506835938, 2.86083984375, 3.14770507812, 3.1494140625, 3.70092773438, 3.10986328125, 3.09326171875, 2.71728515625, 2.2099609375, 1.74267578125, 1.58422851562]
            ]

    latency_max_val = [
            [11.8913574219, 14.3154296875, 17.4853515625, 17.6220703125, 18.5166015625, 33.6516113281, 90.421875, 243.952636719, 617.529296875, 2771.17993164, 5768.61157227, 8649.01171875, 14316.1027832, 30730.092041, 36506.5546875],
            [19.9196777344, 38.8459472656, 40.7416992188, 38.2023925781, 40.5632324219, 86.4296875, 183.0546875, 167.978759766, 187.501708984, 204.133300781, 205.987792969, 190.242675781, 108.387207031, 246.418945312, 212.633056641],
            #[__2pl.max_latency__],
            #[__2pl_wait_die.max_latency__],
            [15.2263183594, 20.6403808594, 21.2153320312, 27.8093261719, 28.951171875, 43.3471679688, 54.7580566406, 94.8981933594, 149.793945312, 166.313476562, 244.896728516, 356.446289062, 610.058349609, 682.229736328, 651.670898438]
            ]

    attempts_val = [
            [19396.0/20.498008123, 38107.0/20.9388744494, 56242.0/21.3393198156, 73759.0/21.7891998489, 90317.0/22.1312467716, 169152.0/23.9243205559, 219817.0/19.6845792807, 265690.0/20.0486941266, 283969.0/19.3484907606, 394038.0/24.4175036883, 427730.0/23.891490642, 475298.0/23.4643428442, 520363.0/23.5129631664, 584346.0/23.5024980006, 624646.0/23.7266125576],
            [19253.0/20.4962901629, 38329.0/20.9961287574, 57453.0/21.4163189165, 76375.0/21.8354878871, 95221.0/22.3032908415, 185063.0/24.6125237536, 419098.0/29.9981400239, 548561.0/27.7096498228, 870675.0/33.9167115736, 789443.0/25.6624671169, 1116954.0/30.7689154425, 1497415.0/35.6716591367, 811377.0/16.979145031, 2336129.0/44.9236734457, 1223595.0/21.9231818246],
            #[__2pl.attempts__],
            #[__2pl_wait_die.attempts__],
            [17797.0/25.4779269896, 27879.0/20.7181812968, 42064.0/21.0713538264, 56123.0/21.4153220714, 68931.0/21.6996141697, 136120.0/23.2766163409, 213426.0/20.1067511857, 330841.0/22.3845067441, 443716.0/23.9831732575, 566619.0/25.611654186, 674547.0/26.2268504855, 799926.0/27.1319798158, 887996.0/26.4983471962, 1028170.0/27.0376704684, 1158500.0/27.4079888392]
            ]

    graph_size_val = [
            [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]
            ]

    n_ask_val = [
            [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]
            ]

    scc_val = [
            [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]
            ]

    throughput_figname =            "fig/kodiak/scale_10coos_tpcc_mix_10_nlog_ct_tp.pdf"
    tpcc_ct_cpu_figname =           "fig/kodiak/scale_10coos_tpcc_mix_10_nlog_ct_cpu.pdf"

    figure.tpcc_sc_tp(throughput_val, throughput_figname);
    figure.tpcc_sc_cpu(cpu, tpcc_ct_cpu_figname);

#    print("Hello")
 